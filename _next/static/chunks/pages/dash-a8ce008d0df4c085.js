(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{9768:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dash",function(){return t(3440)}])},3440:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var r=t(5893),s=t(7294),a=t(8523),o=t(1664),i=t(7536),c=function(e){var n=e.error;return(0,r.jsx)(r.Fragment,{children:n&&(0,r.jsxs)("div",{className:"rounded-md bg-red-500 p-4 text-white m-2",children:[(0,r.jsx)("span",{className:"font-bold",children:"Error: "}),n]})})},l=t(4051),u=t.n(l),d=t(8783);function f(e,n,t,r,s,a,o){try{var i=e[a](o),c=i.value}catch(l){return void t(l)}i.done?n(c):Promise.resolve(c).then(r,s)}d.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(d.version,"/pdf.worker.js");var m=function(){var e,n=(e=u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n);case 2:return t=e.sent,e.next=5,h(t);case 5:return r=e.sent,e.next=8,p(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,s){var a=e.apply(n,t);function o(e){f(a,r,s,o,i,"next",e)}function i(e){f(a,r,s,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),x=function(e){return new Promise((function(n,t){try{var r=new FileReader;r.onloadend=function(){var e;return n(null===(e=r.result)||void 0===e?void 0:e.toString())},r.readAsDataURL(e)}catch(s){t(s.message)}}))},h=function(e){for(var n=";base64,",t=e.indexOf(n)+n.length,r=e.substring(t),s=window.atob(r),a=s.length,o=new Uint8Array(new ArrayBuffer(a)),i=0;i<a;i++)o[i]=s.charCodeAt(i);return o};function p(e){return new Promise((function(n,t){d.getDocument(e).promise.then((function(e){for(var t=e,r=[],s=0;s<e._pdfInfo.numPages;s++)!function(e){var n,s;r.push((n=e,s=t,new Promise((function(e,t){s.getPage(n).then((function(n){n.getTextContent().then((function(n){for(var t=n.items,r="",s=0;s<t.length;s++)r+=t[s].str+" ";e(r)}))})).catch((function(e){t(e.message)}))}))))}(s+1);Promise.all(r).then((function(e){n(e)}))}),(function(e){t(e)}))}))}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){g(e,n,t[n])}))}return e}var j=function(){var e=function(e){var n=new FormData;n.append("statement",t[0]),n.append("password",e.password),m(t[0]).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},n=(0,s.useState)([]),t=n[0],l=n[1],u=(0,s.useState)(),d=u[0],f=(u[1],(0,i.cI)()),x=f.register,h=f.handleSubmit,p=f.formState.errors,g=(0,s.useCallback)((function(e){l(e)}),[]),j=(0,a.uI)({onDrop:g,maxFiles:1,accept:"application/pdf"}),v=j.getRootProps,w=j.getInputProps;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:h(e),children:[(0,r.jsx)(c,{error:d}),(0,r.jsxs)("div",{className:"z-10 w-full rounded-xl bg-white p-10 sm:max-w-lg",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"mt-5 text-3xl font-bold text-indigo-600",children:"Upload Statement"}),(0,r.jsxs)("p",{className:"mt-2 text-sm text-gray-400",children:["Don't worry, no shady business."," ",(0,r.jsx)(o.default,{href:"https://github.com/darshkpatel/StatementX",children:(0,r.jsx)("a",{className:"text-gray-500 hover:underline",children:"It's OpenSource"})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-bold tracking-wide text-gray-500",children:"Password"}),(0,r.jsx)("input",b({className:"rounded-lg border border-gray-300 p-2 text-base focus:border-indigo-600 focus:outline-none",type:"",placeholder:"PDF's Password"},x("password")))]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-bold tracking-wide text-gray-500",children:"Attach Document"}),p.statement&&(0,r.jsx)("span",{className:"text-sm text-red-500",children:p.statement.message}),(0,r.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,r.jsxs)("label",b({className:"group flex h-60 w-full flex-col rounded-lg border-4 border-dashed p-10 text-center"},v(),{children:[!t.length&&(0,r.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center text-center ",children:[(0,r.jsx)("div",{className:"mx-auto -mt-10 flex max-h-48 w-2/5 flex-auto",children:(0,r.jsx)("img",{className:"has-mask h-36 object-center",src:"/upload.svg",alt:"upload illustration"})}),(0,r.jsxs)("p",{className:"pointer-none text-gray-500 ",children:[(0,r.jsx)("span",{className:"text-sm",children:"Drag and drop"})," files here"," ",(0,r.jsx)("br",{})," or ",(0,r.jsx)("br",{})," Click to select a file"]})]}),t&&t.map((function(e){return(0,r.jsxs)("div",{className:"text-xl text-gray-500",children:[(0,r.jsx)("span",{className:"font-bold",children:"Uploaded: "}),e.name||"Unknown Name"]},e.name)})),(0,r.jsx)("input",b({type:"file",className:"hidden"},w(),x("statement",{validate:function(){return t.length>0||"Please upload a valid file"}})))]}))})]}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:(0,r.jsx)("span",{children:"File type: pdf"})}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"mt-12 flex flex-col items-center text-center",children:(0,r.jsx)("span",{className:"relative inline-flex w-full md:w-auto",children:(0,r.jsx)("button",{onSubmit:e,type:"submit",className:"inline-flex w-full items-center justify-center rounded-full border border-transparent bg-indigo-600 px-6 py-2 text-base font-bold leading-6 text-white hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2 md:w-auto",children:"Process"})})})})]})]})})},v=function(){return(0,r.jsx)("div",{className:"flex flex-row justify-center",children:(0,r.jsx)(j,{})})}},4601:function(){},2767:function(){},8251:function(){},7677:function(){},7324:function(){}},function(e){e.O(0,[803,824,639,774,888,179],(function(){return n=9768,e(e.s=n);var n}));var n=e.O();_N_E=n}]);